from SPARQLWrapper import SPARQLWrapper, JSON

# Définir l'endpoint SPARQL (par exemple, Wikidata)
sparql = SPARQLWrapper("https://query.wikidata.org/sparql")

def count_tuples(relation):
    query = f"""
    SELECT (COUNT(*) AS ?count)
    WHERE {{
      ?x wdt:{relation} ?y.
    }}
    """
    
    sparql.setQuery(query)
    sparql.setReturnFormat(JSON)
    results = sparql.query().convert()

    
    count = results['results']['bindings'][0]['count']['value']
    return count

if __name__ == "__main__":
    relation = input("Quelle est la relation que vous voulez vérifier ? (par ex., P40 pour parent) \n")
    count = count_tuples(relation)
    print(f"Le nombre de tuples liés par la relation {relation} est : {count}")
